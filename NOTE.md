Kotlin에서는 JpaRepository의 반환 타입을 Optional<?> 대신 null로 설정할 수 있다.

---

URL의 상태

- 유효한 URL
- 만료된 URL
- Disabled된 URL
- 삭제된 URL

참고

- 만료 시간은 변경할 수 없음.
- 민료되기 전까지 URL을 disable/enable할 수 있음.
- 만료된 URL은 disable 여부에 관계 없이 삭제와 동일한 취급.
- 삭제된 URL은 복구할 수 없음.

## 결정

1. Alias 생성 방식
    1. DB id를 문자열로 1:1 변환
        - 장점
            - id에 따른 일관된 결과
            - 생성된 문자열끼리 충돌 가능성 없음
            - 원하는 문자 셋으로 변환 가능
        - 단점
            - 직접 설정된 alias와 충돌하면 다른 함수를 사용해야 함 -> iteration에 의존하는 해시 함수 사용해서 해결 가능
            - long을 base62로 나타내면 11글자가 필요함 -> n글자를 추출해서 사용할 수 있지만 충돌 가능성 생김
            - DB id로 생성해야 하는데, INSERT하기 전까지 id를 알 수 없음. (쿼리가 최소 2번 필요함)
    2. 입력 URL을 해시
        - 단점
            - 동일한 URL을 여러 alias로 단축할 수 있으므로 충돌 가능성 있음
    3. UUID
        - 장점
            - 충돌 확률 거의 없음
            - 직접 구현 안하고 라이브러리 사용 가능
        - 단점
            - 너무 길다. URL 단축기인데 원래 URL보다 더 길어진다. 문자 하나에 16가지의 정보밖에 못 담는다. -> 다른 진수로 변환하면 단축 가능
            - 불필요한 문자가 포함된다 (-) -> 빼면 됨
    4. Base62 랜덤 생성
        - 장점
            - 원하는 문자와 길이를 선택 가능 (URL 친화적)
            - 구현 쉬움. 실행도 빠름
        - 단점
            - 충돌 가능성 있음 -> n번 실행해서 충돌 가능성 낮추기
    - Base62 랜덤 생성으로 결정~
